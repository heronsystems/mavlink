<?xml version="1.0"?>
<mavlink>
  <version>3</version>
  <dialect>0</dialect>
  <enums>
    <enum name="MAV_MISSION_STATE">
      <description>Type of mission items being requested/sent in mission protocol.</description>
      <entry value="0" name="MAV_MISSION_CURRENT">
        <description>Items are mission commands for main auto mission and are received via the autopilot and aircraft module.</description>
      </entry>
      <entry value="1" name="MAV_MISSION_ONBOARD">
        <description>Items are mission ready and have been acknowledged by the aircraft module for processing.</description>
      </entry>
      <entry value="2" name="MAV_MISSION_PROPOSED">
        <description>Items are mission ready but have been generated by a module not related to the aircraft and need to be pushed towards the appropriate aircraft module.</description>
      </entry>
      <entry value="3" name="MAV_MISSION_RECEIVED">
        <description>Items have been distributed and received by the appropriate MACE instance connected to the associated module. They however have yet to be marked as current or onboard. Often this state is reflected via communication between external link modules.</description>
      </entry>
      <entry value="4" name="MAV_MISSION_OUTDATED">
        <description>Items were once relevant to the system have been since replaced with newer current missions.</description>
      </entry>
    </enum>
  </enums>

  <messages>

    <message id="12500" name="NEW_ONBOARD_MISSION">
      <description>This message is emitted currently under one circumstances. A vehicle may emit this when its local planners have developed a new mission for the vehicle and have updated one of its queues. The count of the mission items in this queue is sent as its more direct method of enabling other mace instances for transmission</description>
      <field type="uint8_t" name="mission_system">Mission System ID</field>
      <field type="uint8_t" name="mission_creator">Creator ID</field>
      <field type="uint8_t" name="mission_id">Mission ID</field>
      <field type="uint8_t" name="mission_type" enum="MISSION_TYPE">Mission type, see MISSION_TYPE</field>
      <field type="uint8_t" name="mission_state" enum="MISSION_STATE">Mission type, see MISSION_STATE</field>
    </message>

    <message id="12501" name="REQUEST_HOME_POSITION">
      <description>The home position relating to the mission of the target system has been requested.</description>
      <field type="uint8_t" name="target_system">The system which the home position is being requested from.</field>
    </message>

    <message id="12502" name="HOME_POSITION_ACK">
      <description>An acknowledgement of setting the home position.</description>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="ack">Acknowledgement of the home position set request.</field>
    </message>

    <message id="12503" name="MACE_MISSION_COUNT">
      <description>This message is emitted as response to MISSION_REQUEST_LIST by the MAV and to initiate a write transaction. The GCS can then request the individual mission item based on the knowledge of the total number of waypoints.</description>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint16_t" name="count">Number of mission items in the sequence</field>
      <extensions/>
      <field type="uint8_t" name="mission_type" enum="MAV_MISSION_TYPE">Mission type.</field>
      <field type="uint8_t" name="mission_creator">Creator ID</field>
      <field type="uint8_t" name="mission_id">Mission ID</field>
    </message>

    <message id="12504" name="MACE_MISSION_ACK">
      <description>Acknowledgment message during waypoint handling. The type field states if this message is a positive ack (type=0) or if an error happened (type=non-zero).</description>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint8_t" name="type" enum="MAV_MISSION_RESULT">Mission result.</field>
      <extensions/>
      <field type="uint8_t" name="mission_type" enum="MAV_MISSION_TYPE">Mission type.</field>
      <field type="uint8_t" name="mission_creator">Creator ID</field>
      <field type="uint8_t" name="mission_id">Mission ID</field>
    </message>

    <message id="12505" name="MACE_MISSION_REQUEST_INT">
      <description>Request the information of the mission item with the sequence number seq. The response of the system to this message should be a MISSION_ITEM_INT message. https://mavlink.io/en/services/mission.html</description>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint16_t" name="seq">Sequence</field>
      <extensions/>
      <field type="uint8_t" name="mission_type" enum="MAV_MISSION_TYPE">Mission type.</field>
      <field type="uint8_t" name="mission_creator">Creator ID</field>
      <field type="uint8_t" name="mission_id">Mission ID</field>
    </message>

    <message id="12506" name="MACE_MISSION_ITEM_INT">
      <description>Message encoding a mission item. This message is emitted to announce
                the presence of a mission item and to set a mission item on the system. The mission item can be either in x, y, z meters (type: LOCAL) or x:lat, y:lon, z:altitude. Local frame is Z-down, right handed (NED), global frame is Z-up, right handed (ENU). NaN or INT32_MAX may be used in float/integer params (respectively) to indicate optional/default values (e.g. to use the component's current latitude, yaw rather than a specific value). See also https://mavlink.io/en/services/mission.html.</description>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint16_t" name="seq">Waypoint ID (sequence number). Starts at zero. Increases monotonically for each waypoint, no gaps in the sequence (0,1,2,3,4).</field>
      <field type="uint8_t" name="frame" enum="MAV_FRAME">The coordinate system of the waypoint.</field>
      <field type="uint16_t" name="command" enum="MAV_CMD">The scheduled action for the waypoint.</field>
      <field type="uint8_t" name="current">false:0, true:1</field>
      <field type="uint8_t" name="autocontinue">Autocontinue to next waypoint</field>
      <field type="float" name="param1">PARAM1, see MAV_CMD enum</field>
      <field type="float" name="param2">PARAM2, see MAV_CMD enum</field>
      <field type="float" name="param3">PARAM3, see MAV_CMD enum</field>
      <field type="float" name="param4">PARAM4, see MAV_CMD enum</field>
      <field type="int32_t" name="x">PARAM5 / local: x position in meters * 1e4, global: latitude in degrees * 10^7</field>
      <field type="int32_t" name="y">PARAM6 / y position: local: x position in meters * 1e4, global: longitude in degrees *10^7</field>
      <field type="float" name="z">PARAM7 / z position: global: altitude in meters (relative or absolute, depending on frame.</field>
      <extensions/>
      <field type="uint8_t" name="mission_type" enum="MAV_MISSION_TYPE">Mission type.</field>
      <field type="uint8_t" name="mission_creator">Creator ID</field>
      <field type="uint8_t" name="mission_id">Mission ID</field>
    </message>

    <message id="12507" name="GUIDED_TARGET_STATS">
      <description>Message containing stats relating to the aircrafts perception of a current target position along a trajectory and its distance.</description>
      <field type="uint8_t" name="systemID">System reporting the stat information at the end of the network. MACE/Module is handled in the parent message definition.</field>
      <field type="float" name="x">X position of this position in the defined coordinate frame.</field>
      <field type="float" name="y">Y position of this position in the defined coordinate frame.</field>
      <field type="float" name="z">Z position of this position in the defined coordinate frame.</field>
      <field type="float" name="distance">Relative distance away the system is from the target location.</field>
      <field type="uint8_t" name="coordinate_frame">Coordinate frame of the position vector. This field is as related to the MAV_FRAME definition.</field>
      <field type="uint8_t" name="state">Current state of the controller in pursuit of the guided state.</field>
    </message>

  </messages>
</mavlink>
