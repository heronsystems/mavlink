<?xml version="1.0"?>
<mavlink>
  <include>common.xml</include>
  <!-- Vendors -->
  <include>ardupilotmega.xml</include>
  <include>uAvionix.xml</include>
  <include>icarous.xml</include>
  <dialect>2</dialect>
  <!-- Note that APM specific messages should use the command id range from 150 to 250, to leave plenty of room for growth of common.xml If you prototype a message here, then you should consider if it is general enough to move into common.xml later -->
  <enums>
    <enum name="PLANE_MODE">
      <description>A mapping of the additional plane flight modes for custom_mode field of heartbeat.</description>
      <entry value="30" name="PLANE_MODE_AI_DEFLECTION"/>
    </enum>

  </enums>

  <messages>
    <message id="400" name="SET_SURFACE_DEFLECTION_NORMALIZED">
      <description>Sets the deflection of the control surfaces of the aircraft. Principally used with fixed wing.</description>
      <field type="uint32_t" name="time_boot_ms" units="ms">Timestamp (time since system boot).</field>
      <field type="uint8_t" name="target_system">System ID</field>
      <field type="uint8_t" name="target_component">Component ID</field>
      <field type="uint8_t" name="surface_mask">Bitmask defining the control authorities on the axis that should remain stabilized or tracking an explicit condition. This would imply we can set the aircraft on a course or attitude state that is maintained by an inner-loop control law while evaluating the other axes under AI control.</field>
      <field type="float" name="elevator_deflection">Normalized x-axis value between -1 and 1 that corresponds to the elevators of the vehicle.</field>
      <field type="float" name="aileron_deflection">Normalized y-axis value between -1 and 1 that corresponds to the ailerons of the vehicle.</field>
      <field type="float" name="rudder_deflection">Normalized r-axis value between -1 and 1 that corresponds to the rudders of the vehicle.</field>
      <field type="float" name="throttle_deflection">Collective thrust, normalized to 0 .. 1 (-1 .. 1 for vehicles capable of reverse trust)</field>
    </message>
  </messages>

</mavlink>
